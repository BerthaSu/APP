

转----https://segmentfault.com/a/1190000008676734

性能测试在应用质量保证中起着重要的作用，概括为三个方面：应用在客户端性能的测试、应用在网络上性能的测试和应用在服务器端性能的测试。通常情况下，三方面有效、合理的结合，可以达到对系统性能全面的分析和瓶颈的预测。

通过性能测试工具得到测试对象的各项性能指标，将各项性能指标与行业中的标准值或者竞品值去做对比，以得到一个综合的结论与优化改进的方案。下面将以手游这样的典型APP为例对客户端性能指标进行详细说明。
　　
包体

包体大小能被列为性能指标，是从APP性能指标及游戏运营两个维度考虑的，玩家是更希望包体小的同时性能要好，有时它们会是一个互相取舍的关系。
　　
CPU占用率

一般情况下，用主流手机玩游戏20%-40%的CPU占用率算是合理的，当然这个数值随着近年来手机硬件配置的提高，会略微下降，如果CPU占用率超过80%就非常值得我们去关注了。

帧数(FPS)

可用来指示页面是否平滑的渲染。手机游戏帧率FPS，30-60都可接受，上了60对于人眼主观感受差别就不大了。对于游戏开发而言，并不是FPS越高就一定越好，FPS取决于显卡，其次是内存、CPU，然后是网络。故综合游戏其他性能指标，选择一个适合的FPS即可。

内存使用

在Android系统中，每个APP进程除了同其他进程共享(shared dirty)外，还独用私有内存(private dirty)，通常我们使用PSS(=私有内存+比例分配共享内存)来衡量一个APP的内存开销。移动设备的内存资源是非常有限，为每个APP进程分配的私有内存也是有限制。一方面我们要合理的申请内存使用，以免导致频繁的GC（垃圾回收机制）影响性能和大对象申请发生内存溢出；另一方面，我们要及时释放内存，以免发生内存泄漏。

电量

相对于PC来说，移动设备的电池电量是非常有限的，保持持久的续航能力尤为重要。另外，android的很多特性都比较耗电(如屏幕，GPS，sensor传感器，唤醒机制，CPU，连网等的使用)，我们必须要慎重检查APP的电量使用，以免导致用户手机耗电发热，带来不良体验。
　　
流量

目前的网络类型包含2G3G4Gwifi，其中还有不同运营商的区分，我们在APP的使用中经常遇到大资源，重复请求，调用响应慢，调用失败等各种情况。在不同的网络类型之下，我们不仅要控制流量使用，还需要加快请求的响应。另外，对于需要联网的手游来说，部分游戏对不同联网方式的网络类型采用了不同的流量消耗策略，主要分为wifi环境和蜂窝网络环境。所以针对不同的游戏，我们统计流量消耗时，可能要连接不同的网络进行测试。

对移动APP测试来说，相对于APP兼容性测试、APP功能测试等，性能测试更多是测试应用在终端上硬件的运行情况，但性能测试也不是单独的，很多时候都是和其他专项测试进行配合测试
